(this["webpackJsonpemc-students"]=this["webpackJsonpemc-students"]||[]).push([[0],{36:function(e,t,a){e.exports=a(65)},41:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(32),c=a.n(r),l=(a(41),a(9)),o=a.n(l),i=a(21),u=a(13),d=a(2),m=a(3),h=a(6),p=a(5),v=a(7),f=a(18),b=a.n(f);a(43),a(47);b.a.initializeApp({apiKey:"AIzaSyB4viqxXXUz96JPMSKv7by8o5hea1ltpVc",authDomain:"tech-teacher-db.firebaseapp.com",databaseURL:"https://tech-teacher-db.firebaseio.com",projectId:"tech-teacher-db",storageBucket:"tech-teacher-db.appspot.com",messagingSenderId:"521395870719",appId:"1:521395870719:web:e282a78b20ffb28f2a25ca"});var E=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,s,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.doc("users/".concat(t.uid)),e.next=3,n.get();case 3:if(e.sent.exists){e.next=16;break}return s=t.displayName,r=t.email,c=new Date,"",e.prev=8,e.next=11,n.set(Object(i.a)({displayName:s,email:r,createdAt:c,userRole:""},a));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log("Problem sending User to DB",e.t0.message);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,a){return e.apply(this,arguments)}}(),g=b.a.auth(),N=b.a.firestore(),C=new b.a.auth.GoogleAuthProvider;C.setCustomParameters({prompt:"select_account"});var y=function(){return g.signInWithPopup(C)},w=(a(49),a(50),a(33)),k=a.n(w),j=a(4),S=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).toggleVideoListener=null,n.getVideosFromDB=function(){var e=[];N.collection("videos").get().then((function(t){t.forEach((function(t){e.push(t.data())}))})).then((function(){n.setState({videoList:e},(function(){return n.addUserNameToVideos()}))})).catch((function(e){return console.error(e)}))},n.addUserNameToVideos=function(){var e=n.state.videoList;e.forEach((function(t){N.collection("users").doc(t.userID).get().then((function(e){t.postedBy=e.data().displayName})).then((function(){n.setState({videoList:e})}))}))},n.getVideo=function(e){!1===n.state.videoURLInvalid&&fetch("https://www.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(e,"&key=").concat("AIzaSyCKKT39Cj300mdznNcTRtDnNwPW3fimUR8")).then((function(e){return e.json()})).then((function(e){n.setState({video:e.items[0],showPreview:!0})})).catch((function(e){return console.error(e)}))},n.handleChange=function(e){n.setState({videoURL:e.target.value,videoIsDuplicate:!1},(function(){var e=k()(n.state.videoURL);console.log("videoID after input change: ",e),null!==e?n.setState({videoURLInvalid:!1,videoID:e},Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("videoID in state after validation: ",n.state.videoID),t.next=3,N.collection("videos").where("videoID","==",n.state.videoID).get().then((function(e){e.forEach((function(e){e.data().videoID===n.state.videoID&&n.setState({videoIsDuplicate:!0})}))}));case 3:n.state.videoIsDuplicate||n.getVideo(e);case 4:case"end":return t.stop()}}),t)})))):n.setState({videoURLInvalid:!0,showPreview:!1})}))},n.handleSaveVideo=function(){var e=new Date;N.collection("videos").doc(n.state.videoID).set({userID:n.props.currentUser.id,videoURL:n.state.videoURL,videoID:n.state.videoID,postedAt:e,videoData:n.state.video}).then((function(){!function(e,t,a){var n,s,r=N.collection("users").doc(e);r.get().then((function(e){e.exists&&(n=e.data().credits,console.log("currentCredits = ",n))})).then((function(){switch(t){case"add":s=n+a,r.update({credits:s});break;case"remove":s=n-a,console.log("calc after remove operation = ",s),r.update({credits:s});break;default:s=0}}))}(n.props.currentUser.id,"remove",1),n.setState({videoSaved:!0}),setTimeout((function(){return n.setState({videoSaved:!1,showPreview:!1,videoURL:"",video:null})}),5e3)})).catch((function(e){console.error("Error adding video: ",e)}))},n.getUserByID=function(e){var t;console.log("getUserByID activated"),N.collection("users").doc(e).get().then((function(e){e.exists&&(t=e.data())})).then((function(){n.setState({videoPosters:[{userID:e,userName:t.displayName}]},(function(){return console.log(n.state.videoPosters)}))}))},n.handleClickLike=function(e){},n.handleClickDelete=function(e){N.collection("videos").doc(e).delete().catch((function(e){return console.error(e)}))},n.state={videoURL:"",videoID:"",videoURLInvalid:!1,videoIsDuplicate:!1,video:null,videoSaved:!1,showPreview:!1,videoList:null,videoPosters:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getVideosFromDB(),this.toggleVideoListener=N.collection("videos").onSnapshot((function(){return e.getVideosFromDB()}))}},{key:"componentWillUnmount",value:function(){this.toggleVideoListener()}},{key:"render",value:function(){var e=this,t=this.state.videoList,a=this.props.currentUser;return s.a.createElement("div",{className:"video-box"},s.a.createElement("h1",null,"Video Ranks"),s.a.createElement("div",{className:"input-box"},s.a.createElement("input",{type:"search",name:"videoURL",value:this.state.videoURL,onChange:this.handleChange,onKeyDown:this.handlePressEnter,className:"animated-input",placeholder:"bla"}),s.a.createElement("label",{className:"animated-label",htmlFor:"videoURL"},"Enter Youtube URL")),this.state.videoURL&&this.state.showPreview?s.a.createElement("div",{className:"video-preview"},s.a.createElement("img",{src:this.state.video.snippet.thumbnails.medium.url,alt:"",className:"video-thumb"}),s.a.createElement("span",{className:"preview-title"},"Post this video?"),s.a.createElement("h4",{className:"video-title"},this.state.video.snippet.title),s.a.createElement("span",{onClick:this.handleSaveVideo,className:"save-icon"},this.state.videoSaved?null:s.a.createElement(j.a,null)),s.a.createElement("span",{className:"credits"},s.a.createElement(j.b,null),s.a.createElement("span",null,"-1"))):null,this.state.videoURLInvalid?s.a.createElement("div",{className:"error-message"},"Please paste a valid Youtube Link"):null,this.state.videoIsDuplicate?s.a.createElement("div",{className:"error-message"},"Video already posted. Choose another one."):null,this.state.videoSaved?s.a.createElement("div",{className:"success-message"},"Video Posted"):null,null!==this.state.videoList?s.a.createElement("div",{className:"video-card-box"},t.map((function(t,n){return s.a.createElement("div",{className:"video-card",key:t.videoURL},s.a.createElement("a",{href:t.videoURL,target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:t.videoData.snippet.thumbnails.medium.url,alt:"",className:"video-thumb"})),s.a.createElement("div",{className:"video-text"},s.a.createElement("span",{className:"video-title"},t.videoData.snippet.title),s.a.createElement("div",{className:"video-buttons"},s.a.createElement("span",{className:"video-icon"},s.a.createElement(j.h,{className:"like-icon",onClick:e.handleClickLike})),s.a.createElement("span",{className:"video-stats"},"325"),s.a.createElement("span",{className:"video-icon"},s.a.createElement(j.g,{className:"dislike-icon",onClick:e.handleClickLike})),s.a.createElement("span",{className:"video-stats"},"23"),s.a.createElement("span",{className:"video-label"},t.postedBy),s.a.createElement("span",{className:"video-icon"},t.userID===a.id?s.a.createElement(j.i,{onClick:function(){return e.handleClickDelete(t.videoID)}}):null))))}))):null)}}]),a}(s.a.Component),O=(a(51),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={currentUser:n.props.currentUser},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"page-container"},s.a.createElement(S,{currentUser:this.props.currentUser}))}}]),a}(s.a.Component)),U=a(27),x=a(34),I=(a(52),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){n.setState({tagsInputValue:e.currentTarget.value})},n.pushTagToDB=function(e){var t=n.state,a=t.studentId,s=t.tagsInputValue,r=t.tagsArray;N.doc("students/".concat(a)).update({Labels:[].concat(Object(U.a)(r),[s])}).then().catch((function(e){return console.error(e)}))},n.handleKeyPress=function(e){"Enter"===e.key&&""!==e.target.value&&(n.pushTagToDB(),n.tagsInput.value=null)},n.removeTag=function(e){var t=n.state.studentId,a=Object(U.a)(n.state.tagsArray);a.splice(e,1),N.doc("students/".concat(t)).update({Labels:a})},n.state={tagsInputValue:"test results",tagsArray:n.props.currentStudent.Labels,students:n.props.students,studentId:n.props.currentStudent.id},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.studentId;N.doc("students/".concat(t)).onSnapshot((function(t){var a=t.data();e.setState({tagsArray:a.Labels})}))}},{key:"render",value:function(){var e=this,t=this.state.tagsArray;return s.a.createElement("div",{className:"tags-input-box"},s.a.createElement("input",{type:"search",className:"tags-input",placeholder:"Press 'Enter' to add tags",ref:function(t){e.tagsInput=t},onChange:this.handleInputChange,onKeyDown:this.handleKeyPress}),s.a.createElement("div",{className:"tags-box"},t.map((function(t,a){return s.a.createElement("div",{className:"tag",key:a},t,s.a.createElement("span",{className:"tag-delete",onClick:function(){return e.removeTag(a)}},s.a.createElement(x.a,{className:"tag-delete-icon"})))}))))}}]),a}(n.Component)),D=(a(53),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).getUpdatedStudents=function(e){n.setState({students:e})},n.state={students:n.props.students,showSearchField:n.props.showSearchField,searchField:"",chosenClass:n.props.chosenClass},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.students;t.sort((function(e,t){return e.id-t.id}));var a=[];return a=""!==this.props.chosenClass?t.filter((function(t){return t.Class.includes(e.props.chosenClass)})):t.filter((function(t){return t.Class.includes(e.state.searchField)})),s.a.createElement("div",{className:"students-list"},s.a.createElement("div",{className:"class-filter-box"},s.a.createElement("label",{htmlFor:"class-filter",className:"basic-label"},"Filtre os alunos pelo n\xfamero da turma:")," ",s.a.createElement("br",null),s.a.createElement("input",{type:"search",id:"class-filter",placeholder:"Digite o n\xfamero da turma",onChange:function(t){e.setState({searchField:t.currentTarget.value})}})),s.a.createElement("div",{className:"cards-list"},a.map((function(t){return s.a.createElement("div",{key:t.id,className:"card-box"},s.a.createElement("div",{className:"card-row-main"},s.a.createElement("div",{className:"card-numbers"},s.a.createElement("p",{className:"card-class"},t.Class),s.a.createElement("p",{className:"card-student-number"},"#",t.Number)),s.a.createElement("div",null,s.a.createElement("img",{className:"card-images",src:"/images/".concat(t.Class,"-").concat(t.Number,".jpg"),alt:""})),s.a.createElement("div",{className:"card-names"},s.a.createElement("h3",null,t.FirstName),s.a.createElement("p",{className:"card-last-name"},t.LastName))),s.a.createElement("div",{className:"card-row-tags"},s.a.createElement(I,{currentStudent:t,students:e.state.students,updateStudents:e.getUpdatedStudents})))}))))}}]),a}(n.Component)),L=(a(54),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleClassClick=function(e){n.setState({chosenClass:e.currentTarget.firstChild.innerHTML},(function(){var e=n.state.students.filter((function(t){return t.Class===n.state.chosenClass?t:e}));console.log(e[0].Class),n.setState({filteredStudents:e},(function(){return console.log("settei filteredStudents")})),n.forceUpdate()}))},n.state={classes:n.props.classes,students:n.props.students,filteredStudents:[],chosenClass:"",showStudents:!1,showClassFilter:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.classes,a=this.state.students;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"class-list"},t.map((function(t,n){var r=t,c=0;return s.a.createElement("div",{className:"class-card",key:n,onClick:e.handleClassClick},s.a.createElement("div",{className:"class-number"},r),s.a.createElement("hr",null),s.a.createElement("div",{className:"total-students"},a.forEach((function(e){e.Class===r&&c++})),s.a.createElement(j.j,{size:12})," ",c))}))),s.a.createElement("div",{className:"child-components-box"},console.log("Post-click state.filteredStudents: "+this.state.filteredStudents),""!==this.state.chosenClass?s.a.createElement(D,{students:this.state.students,showClassFilter:this.state.showClassFilter,chosenClass:this.state.chosenClass}):null))}}]),a}(n.Component)),R=a(14),P=(a(55),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){var e,t=this.props.currentUser;return null!==t&&(e=t.displayName),s.a.createElement("div",{className:"header-box"},s.a.createElement("div",{className:"header-logo"},"Techy Class"),s.a.createElement("div",{className:"burger-menu"},s.a.createElement("div",{className:"one"}),s.a.createElement("div",{className:"two"}),s.a.createElement("div",{className:"three"})),s.a.createElement("nav",{className:"nav-box"},s.a.createElement(R.b,{className:"menu-box",to:"/"},s.a.createElement("div",{className:"icon-box"},s.a.createElement(j.d,null)),s.a.createElement("span",{className:"menu-item"},"Home")),s.a.createElement(R.b,{className:"menu-box",to:"/classes"},s.a.createElement("div",{className:"icon-box"},s.a.createElement(j.c,null)),s.a.createElement("span",{className:"menu-item"},"Classes")),s.a.createElement(R.b,{className:"menu-box",to:"/students"},s.a.createElement("div",{className:"icon-box"},s.a.createElement(j.j,null)),s.a.createElement("span",{className:"menu-item"},"Students"))),s.a.createElement("div",{className:"sign-in-menu"},this.props.currentUser?s.a.createElement("div",{className:"user-menu-box"},s.a.createElement("span",null,"Hello, ".concat(e),"student"===this.props.currentUser.userRole?s.a.createElement("span",{className:"credits"},s.a.createElement(j.b,null),s.a.createElement("span",null,this.props.currentUser.credits)):null),s.a.createElement("div",{className:"sign-out-box",onClick:function(){return g.signOut()}},s.a.createElement("span",{id:"sign-out-text"},"Sign Out"),s.a.createElement(j.f,null))):null))}}]),a}(s.a.Component)),F=(a(60),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"card-list"},s.a.createElement("div",{className:"card"},s.a.createElement("span",{className:"icon"},s.a.createElement(j.e,null)),s.a.createElement("p",{className:"card-title"},"Add Project"))))}}]),a}(s.a.Component)),A=(a(61),a(16)),T=(a(62),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(A.a)({},n,s))},e.handleSubmit=function(){var t=Object(u.a)(o.a.mark((function t(a){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=e.state,s=n.email,r=n.password,t.next=4,g.signInWithEmailAndPassword(s,r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={email:"",password:""},e}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"sign-in-container"},s.a.createElement("div",{className:"sign-form-box"},s.a.createElement("h2",{className:"sign-subtitle"},"I have an account"),s.a.createElement("form",{className:"sign-in-form",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,className:"sign-in-input",placeholder:"bla"}),s.a.createElement("label",{className:"input-label",htmlFor:"email"},"your email")),s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,className:"sign-in-input",placeholder:"bla"}),s.a.createElement("label",{className:"input-label",htmlFor:"password"},"your password")),s.a.createElement("button",{className:"sign-in-btn"},"Sign In"),s.a.createElement("img",{alt:"Sign In Wigh Google",src:"./images/google-sign-in/btn_google_signin_dark_normal_web@2x.png",id:"google-sign-in-btn",onClick:y}))))}}]),a}(s.a.Component)),V=(a(63),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,s=a.value;e.setState(Object(A.a)({},n,s))},e.handleSubmit=function(){var t=Object(u.a)(o.a.mark((function t(a){var n,s,r,c,l,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state,s=n.displayName,r=n.email,c=n.password,l=n.confirmPassword,c===l){t.next=5;break}return alert("Passwords do not match. Try again!"),t.abrupt("return");case 5:if(!(e.state.password.length<6)){t.next=8;break}return alert("Password should have at least 6 characters"),t.abrupt("return");case 8:return t.prev=8,t.next=11,g.createUserWithEmailAndPassword(r,c);case 11:return i=t.sent,u=i.user,t.next=15,E(u,{displayName:s});case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(8),console.error(t.t0),"auth/email-already-in-use"===t.t0.code&&e.setState({showError:!0,errorMessage:"Email already used. Try to sign in."});case 21:case"end":return t.stop()}}),t,null,[[8,17]])})));return function(e){return t.apply(this,arguments)}}(),e.state={displayName:"",email:"",password:"",confirmPassword:"",showError:!1,errorMessage:""},e}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"sign-up-container"},s.a.createElement("div",{className:"sign-form-box"},s.a.createElement("h2",{className:"sign-subtitle"},"Create a new account"),this.state.showError?s.a.createElement("p",{className:"error-message"},this.state.errorMessage):null,s.a.createElement("form",{className:"sign-up-form",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"text",name:"displayName",value:this.state.displayName,onChange:this.handleChange,className:"sign-in-input",placeholder:"bla"}),s.a.createElement("label",{className:"input-label",htmlFor:"first-name"},"your user name")),s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,className:"sign-in-input",placeholder:"bla"}),s.a.createElement("label",{className:"input-label",htmlFor:"email"},"your email")),s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,className:"sign-in-input",placeholder:"bla"}),s.a.createElement("label",{className:"input-label",htmlFor:"password"},"create a password")),s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,className:"sign-in-input",placeholder:"bla"}),s.a.createElement("label",{className:"input-label",htmlFor:"confirm-password"},"confirm password")),s.a.createElement("button",{className:"sign-in-btn"},"Create Account"))))}}]),a}(s.a.Component)),B=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"login-container"},s.a.createElement("div",{className:"logo"},"Techy Class"),s.a.createElement("div",{className:"sign-in-up-container"},s.a.createElement(T,null),s.a.createElement("hr",{className:"form-divider"}),s.a.createElement(V,null)))}}]),a}(s.a.Component),M=(a(64),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({enrollmentCode:e.target.value},(function(){return console.log(n.state.enrollmentCode)}))},n.handleSubmit=function(){var e=n.state,t=e.enrollmentCode,a=e.currentUser,s=N.doc("users/".concat(a.id));switch(t){case"emc2020901":s.update({userRole:"student",school:"EMC",class:{year:"2020",classCode:"901"}}).then((function(){return console.log("User Successfully Enrolled!")})).catch((function(e){return console.error(e)}));break;case"emc2020902":s.update({userRole:"student",school:"EMC",class:{year:"2020",classCode:"902"}}).then((function(){return console.log("User Successfully Enrolled!")})).catch((function(e){return console.error(e)}));break;default:alert("Code is invalid!")}},n.state={enrollmentCode:"",currentUser:n.props.currentUser},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"enrollment-box"},s.a.createElement("h2",{className:"subtitle"},"Type your Enrollment Code:"),s.a.createElement("div",{className:"input-container"},s.a.createElement("input",{type:"text",name:"enrollmentCode",value:this.state.enrollmentCode,onChange:this.handleChange,className:"enrollment-input",placeholder:"bla"}),s.a.createElement("label",{className:"enrollment-label",htmlFor:"email"},"your code")),s.a.createElement("button",{type:"button",className:"submit-btn",onClick:this.handleSubmit}," Submit Code"))}}]),a}(s.a.Component)),W=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).toggleAuthMonitor=null,e.state={students:[],classes:[],currentUser:null,userRole:null,showEnrollment:!1},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.collection("students").get().then((function(t){var a=[];t.forEach((function(e){a.push(e.data())})),e.setState({students:a})})),this.toggleAuthMonitor=g.onAuthStateChanged(function(){var t=Object(u.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,E(a);case 3:t.sent.onSnapshot((function(t){e.setState({currentUser:Object(i.a)({id:t.id},t.data())},(function(){e.setState({userRole:e.state.currentUser.userRole})}))})),t.next=8;break;case 7:e.setState({currentUser:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.toggleAuthMonitor()}},{key:"render",value:function(){var e=this.state;return s.a.createElement("div",{className:"App"},null!==e.currentUser?s.a.createElement(P,{currentUser:e.currentUser}):null,s.a.createElement("div",{className:"main-container"},null===e.currentUser?s.a.createElement(B,null):null,""===e.userRole&&null!==e.userRole?s.a.createElement(M,{currentUser:e.currentUser}):null,""!==e.userRole&&null!==e.userRole?s.a.createElement(v.c,null,s.a.createElement(v.a,{path:"/",exact:!0,render:function(t){return s.a.createElement(O,e)}}),s.a.createElement(v.a,{exact:!0,path:"/classes",render:function(t){return s.a.createElement(L,e)}}),s.a.createElement(v.a,{path:"/students",render:function(t){return s.a.createElement(D,Object.assign({},e,{chosenClass:""}))}}),s.a.createElement(v.a,{path:"/projects",render:function(t){return s.a.createElement(F,e)}})):null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(R.a,null,s.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.19963907.chunk.js.map